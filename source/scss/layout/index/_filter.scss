@use '../../abstract/index' as *;
@use '../../components/index' as *;

.filter {
	margin: 4.5em 0;

	.container {
		@include mq(med) {
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
	}

	// .filter__left

	&__left {
		width: 100%;

		@include mq(med) {
			flex: 0 1 min(400px, 60%);
			margin-bottom: 0 !important;
		}
	}

	// .filter__right

	&__right {
		@include mq(med) {
			flex: 0 1 35%;
			margin-bottom: 0 !important;
		}
	}
}

.left-filter {
	position: relative;

	margin-bottom: 3em;

	// .left-filter__label

	&__label {
		position: absolute;
		top: 50%;
		left: 10%;

		transform: translate(0%, -50%);

		font-size: 1.4em;
		// color: $input-color;
		color: var(--input-color);

		transition: all 250ms linear;
	}

	// .left-filter__search

	&__search {
		// box-shadow: 0 3px 15px $Light-Mode-Shadow, 3px -1px 15px $Light-Mode-Shadow;
		box-shadow: 0 3px 15px var(--shadow-color),
			3px -1px 15px var(--shadow-color);
		padding: 1em 2em;
		padding-left: 4em;
		border: none;
		border-radius: 0.75em;

		background: var(--elems-bg-color);
		color: var(--text-color);

		width: 100%;

		font-size: 1.4rem;

		&:focus ~ label {
			// transform: translate(-19%, -260%);

			top: 0 !important;
			left: 0 !important;
			transform: translate(0%, -150%);

			font-weight: 600;
			// margin-bottom: 0.5em;
			color: var(--text-color);
		}
	}

	// .left-filter__btn

	&__btn {
		background: transparent;
		position: absolute;

		top: 55%;
		left: 5%;

		transform: translate(-50%, -50%);

		font-size: 1.6rem;
		line-height: 1;
		font-weight: bold;
		// color: $input-color;
		color: var(--input-color);

		padding: 0.35em;
	}
}
.btn {
}
.right-filter {
	margin-bottom: 4.5em;

	position: relative;

	@include mq(med) {
		display: flex;
		justify-content: flex-end;
	}

	// .right-filter__header

	&__header {
		display: flex;
		align-items: center;
		justify-content: space-between;

		font-size: 1.4rem;

		padding: 1em;
		border-radius: 0.75em;

		width: 70%;
		max-width: 200px;

		// background: $elems-bg-color;
		background: var(--elems-bg-color);
		color: var(--text-color);
		// box-shadow: 0 3px 15px $shadow-color, 3px -1px 15px $shadow-color;
		box-shadow: 0 3px 15px var(--shadow-color),
			3px -1px 15px var(--shadow-color);

		cursor: pointer;

		@include mq(med) {
			width: 100% !important;
		}
	}

	// .right-filter__title

	&__title {
		font-size: 1.4rem;
		font-weight: normal;
		line-height: 1;
	}

	// .right-filter__icon

	&__icon {
		font-size: 1.6em;
		font-weight: 600;
		cursor: pointer;

		transform: rotate(0deg);
		transition: all 250ms ease-in-out;
	}

	// .right-filter__content

	&__content {
	}
}
.content-filter {
	position: absolute;
	top: 100%;
	left: 0;
	right: 0;
	width: 100%;
	max-width: 600px;

	margin-top: 1em;
	@extend %tpl-card-look;
	padding-bottom: 3.5em;

	display: grid;
	grid-template-columns: 1fr 1fr auto;
	grid-template-areas:
		'first second'
		'third third';

	grid-gap: 5%;

	transform-origin: top left;
	// clip-path: border-box ellipse(0% 0% at center);
	clip-path: border-box circle(0% at 0% 0%);
	opacity: 0;
	transition: all 250ms ease-in-out;

	z-index: 100;

	@include mq(med) {
		transform-origin: top right !important;
		clip-path: border-box circle(0% at 100% 0%);
		left: unset !important;
		width: 200% !important;

		padding: 2em !important;
		padding-bottom: 4.5em !important;
	}

	/* .right-filter__header.active + & {
		// clip-path: border-box ellipse(120% 120% at center);
		clip-path: border-box circle(150% at 0% 0%);
		opacity: 1;
		transition: all 250ms ease-in-out;
	}

	.right-filter__header.active .right-filter__icon {
		transform: rotate(180deg);
		transition: all 250ms ease-in-out;
	} */

	// .content-filter__first-col

	&__first-col {
		grid-area: first;
	}

	// .content-filter__second-col

	&__second-col {
		grid-area: second;
	}

	// .content-filter__third-col

	&__third-col {
		grid-area: third;
	}
}
.filter-first {
	// .filter-first__title

	&__title {
		@extend %tpl-filter-content-header;
	}

	// .filter-first__radio-wrapper

	&__radio-wrapper {
	}
}
.radio {
}
.radio-row {
	margin-bottom: 0.75em;

	display: flex;
	align-items: center;

	// .radio-row__input

	&__input {
		cursor: pointer;

		//* кастоный radio
		display: none;
		&:checked + .radio-row__label::after {
			transform: scale(1);
		}
	}

	// .radio-row__label

	&__label {
		font-size: 1.4rem;
		font-weight: 300;
		margin-left: 0.5em;
		color: var(--text-color);

		display: inline-flex;
		align-items: center;

		line-height: 1.4;
		position: relative;

		cursor: pointer;

		//* делаем свой кружок
		&::before {
			content: '';

			//* для того чтобы если было много строк - кружок все равно адекватно сверхуц отобразился
			align-self: flex-start;

			//* не используем width чтобы кружок в определенных случаях не сжимался
			flex: 0 0 1.8rem;
			height: 1.8rem;
			background-color: var(--bg-color);
			outline: 1px solid var(--text-color);
			border-radius: 50%;

			margin-right: 1.5rem;
		}

		//* внутренняя часть кружка
		&::after {
			content: '';
			position: absolute;
			top: 0.3rem;
			left: 0.3rem;
			width: 1.2rem;
			height: 1.2rem;
			background-color: var(--accent-color);
			border-radius: 50%;

			transform: scale(0);
			transition: transform 0.3s ease;
		}
	}
}
.filter-second {
	// .filter-second__title

	&__title {
		@extend %tpl-filter-content-header;
	}

	// .filter-second__content

	&__content {
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: flex-start;
		/* display: grid;
		grid-auto-flow: row;
		// justify-content: flex-start;
		gap: 2%; */

		& > * {
			margin-bottom: 0.5em;
			justify-self: start;
		}

		& > *:last-of-type {
			margin-bottom: 0;
		}
	}
}
.content-second {
	// .content-second__btn

	&__btn {
		display: inline-flex;
		align-items: center;

		padding: 1em;
		border-radius: 0.75em;

		font-size: 1.4rem;

		background: transparent;
		// border: 1px solid $text-color;
		border: 1px solid var(--text-color);
		color: var(--text-color);

		isolation: isolate;
		z-index: 1;

		transition: all 150ms;

		// & > &-icon,
		// & > span,
		&:hover,
		&:focus {
			border: 1px solid var(--accent-color);
		}

		& > * {
			margin-left: 0.5em;
			font-size: 1.8rem;

			transition: transform 150ms;

			/* color: red;
			z-index: 2;
			fill: red; */
		}

		&.active-up > * {
			fill: var(--accent-color);
			transition: transform 150ms;
		}

		&.active-down > * {
			fill: var(--accent-color);
			transform: rotate(180deg);
			transition: transform 150ms;
		}
	}
}
.filter-third {
	// .filter-third__title

	&__title {
		@extend %tpl-filter-content-header;
	}

	// .filter-third__subtitle

	&__subtitle {
		font-size: 1.4rem;
		font-weight: 300;
		color: var(--text-color);

		margin-bottom: 0.8em;
	}

	// .filter-third__content

	&__content {
		display: flex;
		flex-direction: column;
		align-items: flex-start;

		margin-top: 1rem;
	}

	// .filter-third__inputs

	&__inputs {
	}

	// .filter-third__labels

	&__labels {
		margin-bottom: 1em;
		color: var(--text-color);

		label {
			font-size: 1.4rem;
			font-weight: 600;

			color: var(--text-color);
		}
	}

	.input-row {
		display: flex;
		flex-direction: column;

		& > input:first-of-type {
			margin-bottom: 0.5em;
		}

		@include mq(lg) {
			flex-direction: row;
			align-items: center;
			justify-content: space-between;

			& > input:first-of-type {
				margin-bottom: 0 !important;
				margin-right: 2.5rem;
			}
		}
	}

	// .filter-third__input

	&__input {
		padding: 1em;

		border-radius: 0.5em;

		font-size: 1.4rem;
		color: var(--input-color);
		border: 1px solid var(--input-color);
		background: var(--body-bg-color);
	}
}
